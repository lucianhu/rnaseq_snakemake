Building DAG of jobs...
shared_storage_local_copies: True
remote_exec: False
Using shell: /usr/bin/bash
Provided cores: 24
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                   count
------------------  -------
align_paired              3
align_single              3
all                       1
trim_galore_paired        3
trim_galore_single        3
total                    13

Resources before job selection: {'_cores': 24, '_nodes': 9223372036854775807}
Ready jobs (6)
Select jobs to execute...
Selected jobs (3)
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775804}
Execute 3 jobs...

[Thu Aug 15 13:32:50 2024]
localrule trim_galore_paired:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357071_1.fastq.gz, /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357071_2.fastq.gz
    output: results/trimmed/WT_REP2_control, results/trimmed/WT_REP2_control_trimmed_R1.fq.gz, results/trimmed/WT_REP2_control_trimmed_R2.fq.gz
    log: logs/trim_galore/WT_REP2_control.trimmed.log
    jobid: 4
    reason: Missing output files: results/trimmed/WT_REP2_control_trimmed_R1.fq.gz, results/trimmed/WT_REP2_control_trimmed_R2.fq.gz
    wildcards: sample=WT_REP2_control
    threads: 8
    resources: tmpdir=/tmp


[Thu Aug 15 13:32:50 2024]
localrule trim_galore_paired:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357072_1.fastq.gz, /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357072_2.fastq.gz
    output: results/trimmed/WT_REP3_control, results/trimmed/WT_REP3_control_trimmed_R1.fq.gz, results/trimmed/WT_REP3_control_trimmed_R2.fq.gz
    log: logs/trim_galore/WT_REP3_control.trimmed.log
    jobid: 6
    reason: Missing output files: results/trimmed/WT_REP3_control_trimmed_R2.fq.gz, results/trimmed/WT_REP3_control_trimmed_R1.fq.gz; Code has changed since last execution
    wildcards: sample=WT_REP3_control
    threads: 8
    resources: tmpdir=/tmp


[Thu Aug 15 13:32:50 2024]
localrule trim_galore_single:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357075_1.fastq.gz
    output: results/trimmed/RAP1_REP3_treatment, results/trimmed/RAP1_REP3_treatment_trimmed_R1.fq.gz
    log: logs/trim_galore/RAP1_REP3_treatment.trimmed.log
    jobid: 12
    reason: Missing output files: results/trimmed/RAP1_REP3_treatment_trimmed_R1.fq.gz
    wildcards: sample=RAP1_REP3_treatment
    threads: 8
    resources: tmpdir=/tmp

Completion of job ['trim_galore_single'] reported to scheduler.
jobs registered as running before removal {trim_galore_paired, trim_galore_paired, trim_galore_single}
[Thu Aug 15 13:32:53 2024]
Finished job 12.
1 of 13 steps (8%) done
Resources before job selection: {'_cores': 8, '_nodes': 9223372036854775805}
Ready jobs (4)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775804}
Execute 1 jobs...

[Thu Aug 15 13:32:53 2024]
localrule trim_galore_paired:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357070_1.fastq.gz, /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357070_2.fastq.gz
    output: results/trimmed/WT_REP1_control, results/trimmed/WT_REP1_control_trimmed_R1.fq.gz, results/trimmed/WT_REP1_control_trimmed_R2.fq.gz
    log: logs/trim_galore/WT_REP1_control.trimmed.log
    jobid: 2
    reason: Missing output files: results/trimmed/WT_REP1_control_trimmed_R1.fq.gz, results/trimmed/WT_REP1_control_trimmed_R2.fq.gz
    wildcards: sample=WT_REP1_control
    threads: 8
    resources: tmpdir=/tmp

Completion of job ['trim_galore_paired'] reported to scheduler.
jobs registered as running before removal {trim_galore_paired, trim_galore_paired, trim_galore_paired}
[Thu Aug 15 13:32:56 2024]
Finished job 6.
2 of 13 steps (15%) done
Resources before job selection: {'_cores': 8, '_nodes': 9223372036854775805}
Ready jobs (4)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775804}
Execute 1 jobs...

[Thu Aug 15 13:32:56 2024]
localrule trim_galore_single:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357073_1.fastq.gz
    output: results/trimmed/RAP1_REP1_treatment, results/trimmed/RAP1_REP1_treatment_trimmed_R1.fq.gz
    log: logs/trim_galore/RAP1_REP1_treatment.trimmed.log
    jobid: 8
    reason: Missing output files: results/trimmed/RAP1_REP1_treatment_trimmed_R1.fq.gz
    wildcards: sample=RAP1_REP1_treatment
    threads: 8
    resources: tmpdir=/tmp

Completion of job ['trim_galore_paired'] reported to scheduler.
jobs registered as running before removal {trim_galore_single, trim_galore_paired, trim_galore_paired}
[Thu Aug 15 13:32:57 2024]
Finished job 4.
3 of 13 steps (23%) done
Resources before job selection: {'_cores': 8, '_nodes': 9223372036854775805}
Ready jobs (4)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775804}
Execute 1 jobs...

[Thu Aug 15 13:32:57 2024]
localrule trim_galore_single:
    input: /home/lucianhu/rna_snakemake/rna_snakemake/test-datasets/testdata/SRR6357074_1.fastq.gz
    output: results/trimmed/RAP1_REP2_treatment, results/trimmed/RAP1_REP2_treatment_trimmed_R1.fq.gz
    log: logs/trim_galore/RAP1_REP2_treatment.trimmed.log
    jobid: 10
    reason: Missing output files: results/trimmed/RAP1_REP2_treatment_trimmed_R1.fq.gz
    wildcards: sample=RAP1_REP2_treatment
    threads: 8
    resources: tmpdir=/tmp

Completion of job ['trim_galore_single'] reported to scheduler.
jobs registered as running before removal {trim_galore_single, trim_galore_single, trim_galore_paired}
[Thu Aug 15 13:32:59 2024]
Finished job 8.
4 of 13 steps (31%) done
Resources before job selection: {'_cores': 8, '_nodes': 9223372036854775805}
Ready jobs (4)
Select jobs to execute...
Selected jobs (0)
Resources after job selection: {'_cores': 8, '_nodes': 9223372036854775805}
Completion of job ['trim_galore_paired'] reported to scheduler.
jobs registered as running before removal {trim_galore_single, trim_galore_paired}
[Thu Aug 15 13:32:59 2024]
Finished job 2.
5 of 13 steps (38%) done
Resources before job selection: {'_cores': 16, '_nodes': 9223372036854775806}
Ready jobs (5)
Selected jobs (1)
Resources after job selection: {'_cores': 4, '_nodes': 9223372036854775805}
Execute 1 jobs...

[Thu Aug 15 13:32:59 2024]
localrule align_paired:
    input: results/trimmed/WT_REP2_control_trimmed_R1.fq.gz, results/trimmed/WT_REP2_control_trimmed_R2.fq.gz, resources/annotation.gtf, resources/star_index
    output: results/align/bam_original/WT_REP2_control, results/align/bam_original/WT_REP2_control/WT_REP2_control.Aligned.out.bam, results/align/bam_original/WT_REP2_control/WT_REP2_control.toTranscriptome.out.bam
    log: logs/star_align/WT_REP2_control.star_align.log
    jobid: 3
    reason: Missing output files: results/align/bam_original/WT_REP2_control/WT_REP2_control.toTranscriptome.out.bam, results/align/bam_original/WT_REP2_control/WT_REP2_control.Aligned.out.bam; Input files updated by another job: results/trimmed/WT_REP2_control_trimmed_R1.fq.gz, results/trimmed/WT_REP2_control_trimmed_R2.fq.gz
    wildcards: sample=WT_REP2_control
    threads: 12
    resources: tmpdir=/tmp

Completion of job ['trim_galore_single'] reported to scheduler.
jobs registered as running before removal {align_paired, trim_galore_single}
[Thu Aug 15 13:33:00 2024]
Finished job 10.
6 of 13 steps (46%) done
Resources before job selection: {'_cores': 12, '_nodes': 9223372036854775806}
Ready jobs (5)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775805}
Execute 1 jobs...

[Thu Aug 15 13:33:00 2024]
localrule align_single:
    input: results/trimmed/RAP1_REP3_treatment_trimmed_R1.fq.gz, resources/annotation.gtf, resources/star_index
    output: results/align/bam_original/RAP1_REP3_treatment, results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.Aligned.out.bam, results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.toTranscriptome.out.bam
    log: logs/star_align/RAP1_REP3_treatment.star_align.log
    jobid: 11
    reason: Missing output files: results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.Aligned.out.bam, results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.toTranscriptome.out.bam; Input files updated by another job: results/trimmed/RAP1_REP3_treatment_trimmed_R1.fq.gz
    wildcards: sample=RAP1_REP3_treatment
    threads: 12
    resources: tmpdir=/tmp

Completion of job ['align_single'] reported to scheduler.
Waiting at most 5 seconds for missing files.
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
Full Traceback (most recent call last):
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/dag.py", line 673, in check_and_touch_output
    await wait_for_files(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/io.py", line 985, in wait_for_files
    raise IOError(
OSError: Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.toTranscriptome.out.bam (missing locally, parent dir contents: )

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/scheduler.py", line 334, in postprocess
    await job.postprocess(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/jobs.py", line 1133, in postprocess
    await self.dag.check_and_touch_output(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/dag.py", line 680, in check_and_touch_output
    raise MissingOutputException(
snakemake.exceptions.MissingOutputException: Job 11  completed successfully, but some output files are missing. Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.toTranscriptome.out.bam (missing locally, parent dir contents: )

MissingOutputException in rule align_single in file /home/lucianhu/rna_snakemake/test_ting/Snakefile, line 217:
Job 11  completed successfully, but some output files are missing. Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/RAP1_REP3_treatment/RAP1_REP3_treatment.toTranscriptome.out.bam (missing locally, parent dir contents: )
Removing output files of failed job align_single since they might be corrupted:
results/align/bam_original/RAP1_REP3_treatment
Completion of job ['align_paired'] reported to scheduler.
Waiting at most 5 seconds for missing files.
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
still missing files, waiting...
Full Traceback (most recent call last):
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/dag.py", line 673, in check_and_touch_output
    await wait_for_files(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/io.py", line 985, in wait_for_files
    raise IOError(
OSError: Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/WT_REP2_control/WT_REP2_control.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/WT_REP2_control/WT_REP2_control.toTranscriptome.out.bam (missing locally, parent dir contents: )

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/scheduler.py", line 334, in postprocess
    await job.postprocess(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/jobs.py", line 1133, in postprocess
    await self.dag.check_and_touch_output(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/dag.py", line 680, in check_and_touch_output
    raise MissingOutputException(
snakemake.exceptions.MissingOutputException: Job 3  completed successfully, but some output files are missing. Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/WT_REP2_control/WT_REP2_control.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/WT_REP2_control/WT_REP2_control.toTranscriptome.out.bam (missing locally, parent dir contents: )

MissingOutputException in rule align_paired in file /home/lucianhu/rna_snakemake/test_ting/Snakefile, line 158:
Job 3  completed successfully, but some output files are missing. Missing files after 5 seconds. This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait:
results/align/bam_original/WT_REP2_control/WT_REP2_control.Aligned.out.bam (missing locally, parent dir contents: )
results/align/bam_original/WT_REP2_control/WT_REP2_control.toTranscriptome.out.bam (missing locally, parent dir contents: )
Removing output files of failed job align_paired since they might be corrupted:
results/align/bam_original/WT_REP2_control
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-08-15T133250.827814.snakemake.log
unlocking
removing lock
removing lock
removed all locks
Full Traceback (most recent call last):
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/cli.py", line 2103, in args_to_api
    dag_api.execute_workflow(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/api.py", line 594, in execute_workflow
    workflow.execute(
  File "/home/lucianhu/micromamba/envs/rna_snakemake/lib/python3.12/site-packages/snakemake/workflow.py", line 1286, in execute
    raise WorkflowError("At least one job did not complete successfully.")
snakemake_interface_common.exceptions.WorkflowError: At least one job did not complete successfully.

WorkflowError:
At least one job did not complete successfully.
